{% extends 'base.html' %}

{% block title %}Contacto - PRALDA{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/contacto-styles.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero contacto-hero">
    <div class="overlay"></div>
    <div class="container">
        <h1>CONT√ÅCTANOS PARA SER PARTE DEL CAMBIO</h1>
    </div>
</section>

<!-- Social Media Section -->
<section class="social-media-section">
    <div class="container">
        <h2>M√°s cerca al cambio</h2>
        <p class="text-center">Visita nuestras redes sociales</p>

        <div class="social-links">
            <div class="social-link-item" data-platform="facebook">
                <h3>FACEBOOK</h3>
                <a href="#" class="btn primary small">VER</a>
            </div>

            <div class="social-link-item" data-platform="instagram">
                <h3>INSTAGRAM</h3>
                <a href="#" class="btn primary small">VER</a>
            </div>

            <div class="social-link-item" data-platform="tiktok">
                <h3>TIK TOK</h3>
                <a href="#" class="btn primary small">VER</a>
            </div>

            <div class="social-link-item" data-platform="twitter">
                <h3>TWITTER</h3>
                <a href="#" class="btn primary small">VER</a>
            </div>
        </div>

        <!-- Social Media Posts -->
        <div class="social-posts">
            <!-- Facebook Post -->
            <div class="social-post facebook">
                <div class="post-header">
                    <img src="{{ url_for('static', filename='images/logo-small.png') }}" alt="PRALDA"
                        class="post-avatar">
                    <div class="post-info">
                        <h4>Pralda</h4>
                        <p>Hace 2 horas</p>
                    </div>
                    <div class="post-platform">
                        <i class="fab fa-facebook"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>El d√≠a de hoy domingo 23 de enero, se Firm√≥ el Presupuesto por ejercicio de recursos destinados a
                        servicios ambientales, en la localidad de Nuevo Progreso, Municipio de Maravilla Tenejapa,
                        Chiapas, con la presencia del Comisariado Ejidal de Nuevo Progreso - PRALDA, con el se√±or Jes√∫s
                        Aguilar Presidente Comunal de Puerto Bello Meyapac, del Distrito de Maravilla, Provincia del
                        Distrito Lacand√≥n, Chiapas.</p>
                </div>
                <div class="post-image">
                    <img src="{{ url_for('static', filename='images/social/facebook-post-1.jpg') }}"
                        alt="Publicaci√≥n de Facebook">
                </div>
                <div class="post-footer">
                    <span><i class="far fa-thumbs-up"></i> 5</span>
                    <span><i class="far fa-comment"></i> Comentar</span>
                    <span><i class="far fa-share-square"></i> 3</span>
                </div>
            </div>

            <!-- Instagram Post -->
            <div class="social-post instagram">
                <div class="post-header">
                    <img src="{{ url_for('static', filename='images/logo-small.png') }}" alt="PRALDA"
                        class="post-avatar">
                    <div class="post-info">
                        <h4>Pralda</h4>
                        <p>Hace 5 horas</p>
                    </div>
                    <div class="post-platform">
                        <i class="fab fa-instagram"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>Ayer tuvimos una reuni√≥n con el se√±or Jes√∫s Aguilar Presidente de la Comunidad Campesina Puerto
                        Bello Meyapac, del Distrito de Maravilla, Provincia del Distrito Lacand√≥n, Chiapas, para la
                        firma de convenio de colaboraci√≥n y apoyo de comprometerse a trav√©s de PRALDA.</p>
                </div>
                <div class="post-image">
                    <img src="{{ url_for('static', filename='images/social/instagram-post.jpg') }}"
                        alt="Publicaci√≥n de Instagram">
                </div>
                <div class="post-footer">
                    <span><i class="far fa-heart"></i> 12</span>
                    <span><i class="far fa-comment"></i> Comentar</span>
                    <span><i class="far fa-bookmark"></i> 4</span>
                </div>
            </div>

            <!-- Twitter Post -->
            <div class="social-post twitter">
                <div class="post-header">
                    <img src="{{ url_for('static', filename='images/logo-small.png') }}" alt="PRALDA"
                        class="post-avatar">
                    <div class="post-info">
                        <h4>Pralda</h4>
                        <p>Hace 12 horas</p>
                    </div>
                    <div class="post-platform">
                        <i class="fab fa-twitter"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>Primera documentaci√≥n de la Biodiversidad en la Reserva Comunitaria de Conservaci√≥n, Proyecto
                        "REDD+ Aviaci√≥n", a trav√©s de c√°maras con los ejidos de Emiliano Zapata, Ni√±os H√©roes, Agua
                        Azul, Nuevo Progreso y por la comunidad de Puerto Bello Meyapac, con el objetivo de monitorear
                        los mam√≠feros para reducir el calentamiento global.</p>
                </div>
                <div class="post-image">
                    <img src="{{ url_for('static', filename='images/social/twitter-post.jpg') }}"
                        alt="Publicaci√≥n de Twitter">
                </div>
                <div class="post-footer">
                    <span><i class="far fa-heart"></i> 8</span>
                    <span><i class="far fa-comment"></i> Comentar</span>
                    <span><i class="fas fa-retweet"></i> 5</span>
                </div>
            </div>

            <!-- TikTok Post -->
            <div class="social-post tiktok" style="display: none;">
                <div class="post-header">
                    <img src="{{ url_for('static', filename='images/logo-small.png') }}" alt="PRALDA"
                        class="post-avatar">
                    <div class="post-info">
                        <h4>Pralda</h4>
                        <p>Hace 8 horas</p>
                    </div>
                    <div class="post-platform">
                        <i class="fab fa-tiktok"></i>
                    </div>
                </div>
                <div class="post-content">
                    <p>üå± Conoce c√≥mo las comunidades ind√≠genas est√°n protegiendo la Amazon√≠a a trav√©s del Proyecto
                        REDD+. Cada √°rbol cuenta para nuestro futuro. #PRALDA #Amazon√≠a #Sostenibilidad</p>
                </div>
                <div class="post-image">
                    <img src="{{ url_for('static', filename='images/social/tiktok-post.jpg') }}"
                        alt="Publicaci√≥n de TikTok">
                </div>
                <div class="post-footer">
                    <span><i class="far fa-heart"></i> 25</span>
                    <span><i class="far fa-comment"></i> Comentar</span>
                    <span><i class="fas fa-share"></i> 12</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="contact-form-section">
    <div class="container">
        <div class="contact-content">
            <div class="contact-form">
                <h3>Llena el formulario y estaremos contact√°ndonos contigo:</h3>

                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                <div class="alert {{ category }}">{{ message }}</div>
                {% endfor %}
                {% endif %}
                {% endwith %}

                <form action="{{ url_for('contacto') }}" method="POST">
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input type="text" id="nombre" name="nombre" placeholder="Nombre y apellidos" required>
                    </div>

                    <div class="form-group">
                        <label for="correo">Correo</label>
                        <input type="email" id="correo" name="correo" placeholder="Correo" required>
                    </div>

                    <div class="form-group">
                        <label for="telefono">Tel√©fono</label>
                        <input type="tel" id="telefono" name="telefono" placeholder="Tel√©fono">
                    </div>

                    <div class="form-group">
                        <label for="mensaje">Mensaje</label>
                        <textarea id="mensaje" name="mensaje" rows="5" required></textarea>
                    </div>

                    <div class="form-group checkbox">
                        <input type="checkbox" id="acepta_politica" name="acepta_politica" required>
                        <label for="acepta_politica">Acepto la Pol√≠tica de Privacidad de PRALDA</label>
                    </div>

                    <button type="submit" class="btn primary">ENVIAR</button>
                </form>
            </div>

            <div class="contact-image">
                <img src="{{ url_for('static', filename='images/example.png') }}" alt="Persona en el bosque">
            </div>
        </div>
    </div>
</section>
{% endblock %}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const socialLinks = document.querySelectorAll('.social-link-item');
        const socialPosts = document.querySelectorAll('.social-post');
        const socialPostsContainer = document.querySelector('.social-posts');

        // Funci√≥n para mostrar todos los posts
        function showAllPosts() {
            socialPosts.forEach(post => {
                post.classList.remove('hidden');
            });
            socialPostsContainer.classList.remove('filtered');
        }

        // Funci√≥n para filtrar posts por red social
        function filterPosts(platform) {
            socialPostsContainer.classList.add('filtered');

            socialPosts.forEach(post => {
                if (post.classList.contains(platform)) {
                    post.classList.add('active-filter');
                    post.classList.remove('hidden');
                } else {
                    post.classList.remove('active-filter');
                    post.classList.add('hidden');
                }
            });
        }

        // Agregar event listeners a los botones
        socialLinks.forEach((link, index) => {
            const button = link.querySelector('.btn');
            const platform = link.dataset.platform;

            button.addEventListener('click', function (e) {
                e.preventDefault();

                // Remover clase active de todos los links
                socialLinks.forEach(l => l.classList.remove('active'));

                // Si el link clickeado ya estaba activo, mostrar todos
                if (link.classList.contains('active')) {
                    showAllPosts();
                } else {
                    // Agregar clase active al link clickeado
                    link.classList.add('active');

                    // Filtrar posts seg√∫n la plataforma
                    filterPosts(platform);
                }
            });
        });

        // Mostrar todos los posts inicialmente
        showAllPosts();
    });
</script>